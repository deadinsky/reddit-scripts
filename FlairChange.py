import praw

SUBREDDIT = 'twitchplayspokemon'
CHANGE_FROM = ['4t','4v','4y']
#['clock','MoonStone','moonstone','gravestone','giratina','eevee','338','CGearBlue','209','21','218','219','244','250','254','276','288','310','328','361','363','371','372','374','Fennel','PrineOm','Aquafemale','bloodymarrill','Ledgios','mmime','50','381','382','386','49','Purrloin','55','mrr','candy','Plume','201','63','64','7','85','ScanD','laxessence','sunbrella','cascade','TrashCan','oldamber','tongueemote','Tranquill','XMasDelibird','winkemote','fa','coolemote','TCGRed','greentou','detectiveduck','lstone','Issac','charm','youngbest','rburrito','XMasBurrito','DawnPrincess','atv','atv2','oddish','gastly','OldAmber','pidgeotto','michael-x','kappa','lordhelix','red','mAy','joey','togepi','arrow','zexxyninja','zapados','searchpoke','start','SSTicket','down','Dog','doggy','Domakazam','left','Magmamale','boulder','caterpie','club','abutton','AButton','trumpet','rock','wattson','zubat','zigoof','Fusemaril','Magmafemale','May','brendantwitch','Brenden','Angerpinch','abrapc','AliceRed','BadassRed','Red2','RedBet','redrobot','Red','wingul','badcop','Down','misty','michael','micheal1','moomoo','hyperbug','Shuckle','blast','riot','mew','shuckle','Shippy','chinshiny','bron','brondong','DrHoot','earth','wooper','Goldwoop','Looker','Lyra','cynthia','chicken','cyrus','LazorPark','masterball','Keeper','goldeen','flameslash','egg','ekans','Emboar','Entei','Ethan','evturtle','Exclam','Fan','FancyVivillon','feereon','Feminun','Feraligatr','ferroturn','fireamber','Fives','006','104','114','116','139','191','207','3DStream','3g','4Silver','Dux','birdjesus','kreygasm','Lucas','LucasBusiness','MagmaLogo','mail','MAmber','marion','marsh','masterdude','MasterRotom','MasterTranquill','maxie','MBJ','leftovers','Lild','Lild2','Lillil','gandolf','Hari-Mama','Kenya','Aquamale','AO','Aoooo','archie','Arty','AStone','Awakening','awoo','axemon','baba','Bacon','baeporeon','fstone','duskkey','la','root','HelixDemiGod','Jaw','satandoof','LA','Hawlucha','Gary','stevey','Flute','Skull','icu','spiderfossil','corsola','PKenya','Hilda2','WhismurV','jelly','lamp','Safra','best','chanseytuff','RocketLyra','shaq','poliswag','XMasHelix','Cover','AipomSceptile','bstarmie','Wally','MUxie','shockedemote','RIP','lampeon','JayL','Sail','Druddigon','ambertou','Brock','SkullAlive','primaffet','lampeo','SportsLyra','Zigg','adasha','Twitch','jolteon','duggon','TCGBlue','glitchd','TotoBass','seaessence','Starmie','Pearl','michael1','gatekeep','idk','battery','DJKing','UberBug','tentagull','xatu','right','plugdj','notfound','forallpaintbrush','quillfossil','rainbow','Ghost','Charizard','AmberDemiGod','TTV','flute','stair','metapod','kraken','Joltik','Head','kakuna','HolyHeadAlive','N','Skyla','oddfire','quillfossil','Vivian','HolySkullAlive','HolyDomeAlive','oreo','sneaval','soul','ConquestVaporeon','Gary2','RosaCLY','Nonon','Leavanny','Jimmy','normalbook','pokedex','ponyta','Roxie','HolyHelixAlive','Zoroark','quag','Sceptile','DomeGod','spritesheet','rick','Aegislash','Dawn','BlueBet','Serena2','DomeDemiGod','Nugget','Bulbasaur','MoonDoge','Tepig','chim','basketball','thunder','Primo','Ray','Rainbow','cabbage','AmberGod','holyclaw','HolyHelixAlive','democracy','Hilda','Lotid','bloodyshinx','Zig','HelixSail','volcano','ssticket','fonz','tree','catman','220','Steven','TM','Silver','A2','rhyhorn','koffing','burgler','AJ','Lucario','Churro','Streamer','twitchtv','pokecube','Silver','War','Solarbrella','pidgey','Deoxys','HolyRootAlive','N2','acidy','Togiglow','Chespin','zephyr','raticate','hoothoot','Chatot','kyogre','lazy','holyroot','heartemote','OneHand','GMYC','DansGame','kadabraPC','AJ','Ad','revflaireon','nipple','HolyClawAlive','Hapbat','sudo','uxie','amberd','Alice','CLY2','G','RA','SwiftRage','leechking','LatiosM','bill','abby','RedBet','Abin','Cone','brian','brian','bbutton','bbutton','up','up','DrPikachu','Cake','flip','Crystal','Potatoe','RocketEthan','PrizeRibbon','sam','SBeldum','GuitarZoroark','Sabrina','T4','otp','tmap','Serena','Xerneas','Zapras','NMay','Nkekev','smileemote','swinu','snowlax','Zebstrika','Giovanni','HCat','ozzy','Gold','Drive','trolliwag','RedBet']
REPLACEMENT = ['4w','4z','4B']
#['10','10','10','105','97','98','218','401','401','401','401','402','402','402','422','422','422','430','430','430','434','434','434','434','108','109','132','165','212','264','313','331','331','331','331','347','347','347','383','399','399','402','402','411','411','411','432','87','87','89','393','428','428','428','428','428','389','400','405','421','426','427','438','439','439','439','439','65','57','61','28','31','5','59','106','102','263','33','46','261','57','8','9','45','256','151','72','17','17','98','81','82','66','66','66','34','34','27','27','11','11','11','12','33','33','43','43','43','43','58','58','58','133','133','133','60','60','60','68','68','68','68','73','73','74','74','75','75','77','88','88','88','89','89','90','90','92','92','93','93','94','94','96','97','97','98','99','99','99','99','99','99','99','99','99','99','99','99','99','99','99','100','100','100','100','100','100','100','100','101','101','103','105','107','107','108','108','108','108','108','108','108','108','108','108','108','108','108','108','108','109','109','109','109','111','111','111','111','111','111','111','111','111','111','111','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','118','129','117','117','118','118','121','121','127','127','127','127','132','136','138','140','142','144','145','146','154','155','155','155','155','158','158','158','161','161','165','165','165','166','166','167','167','168','170','170','170','170','170','170','173','174','175','175','179','179','180','182','182','182','183','183','183','183','185','185','185','185','187','187','187','187','188','188','188','188','196','197','197','210','212','213','213','213','213','216','216','216','228','228','231','231','238','238','239','241','241','247','247','217','217','217','217','248','248','248','248','251','251','251','251','251','251','251','251','251','251','251','251','251','252','252','257','257','261','263','265','265','270','270','270','270','270','270','270','270','270','273','281','287','290','302','320','320','320','322','326','329','331','373','335','345','345','345','346','346','346','346','347','347','347','347','347','352','353','354','355','357','367','267','267','376','377','383','384','385','387','434','399','400','420','407']

print('\nLength %d vs Length %d' % (len(CHANGE_FROM), len(REPLACEMENT)))

if len(CHANGE_FROM) == len(REPLACEMENT):
    reddit = praw.Reddit(user_agent='FlairChange (by /u/Deadinsky66)',
                     client_id='client_id', client_secret="client_secret",
                     username='username', password='password')
    subreddit = reddit.subreddit(SUBREDDIT)
    all_flairs = list(subreddit.flair())
    print('Found %d user flairs' % len(all_flairs))

# This just counts the flairs to be changed
    counterall = 0
    for userflair in all_flairs:
        flaircss = userflair['flair_css_class']
        for placement in range(0, len(CHANGE_FROM)):
            if flaircss == CHANGE_FROM[placement]:
    	        counterall += 1
    
# This changes the flair css classes    
    counter = 0
    for userflair in all_flairs:
        flaircss = userflair['flair_css_class']
        for placement in range(0, len(CHANGE_FROM)):
            if flaircss == CHANGE_FROM[placement]:
                counter += 1
                username = userflair['user']
                flairtext = userflair['flair_text']
                print('%d of %d: Changing flair for /u/%s' % (counter, counterall, username))
                subreddit.flair.set(username, flairtext, REPLACEMENT[placement])
print('\nDone.')
